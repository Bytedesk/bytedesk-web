"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_main_ts"],{

/***/ "(app-pages-browser)/../../src/core/BytedeskWeb.ts":
/*!*************************************!*\
  !*** ../../src/core/BytedeskWeb.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ BytedeskWeb; }\n/* harmony export */ });\nclass BytedeskWeb {\n    getDefaultConfig() {\n        return {\n            isDebug: false,\n            isPreload: false,\n            baseUrl: \"https://www.weiyuai.cn/chat\",\n            placement: \"bottom-right\",\n            marginBottom: 20,\n            marginSide: 20,\n            autoPopup: false,\n            tabsConfig: {\n                home: false,\n                messages: true,\n                help: false,\n                news: false\n            },\n            bubbleConfig: {\n                show: true,\n                icon: \"\\uD83D\\uDC4B\",\n                title: \"需要帮助吗？\",\n                subtitle: \"点击开始对话\"\n            },\n            showSupport: true,\n            chatParams: {\n                org: \"df_org_uid\",\n                t: \"2\",\n                sid: \"df_rt_uid\"\n            },\n            animation: {\n                enabled: true,\n                duration: 300,\n                type: \"ease\"\n            },\n            theme: {\n                mode: \"system\",\n                textColor: \"#ffffff\",\n                backgroundColor: \"#0066FF\"\n            },\n            window: {\n                width: 380,\n                height: 640\n            },\n            draggable: false,\n            locale: \"zh-cn\"\n        };\n    }\n    init() {\n        var _this_config_inviteParams;\n        this.createBubble();\n        this.createInviteDialog();\n        this.setupMessageListener();\n        this.setupResizeListener();\n        // 预加载\n        this.preload();\n        // 自动弹出\n        if (this.config.autoPopup) {\n            setTimeout(()=>{\n                this.showChat();\n            }, this.config.autoPopupDelay || 1000);\n        }\n        // 显示邀请框\n        if ((_this_config_inviteParams = this.config.inviteParams) === null || _this_config_inviteParams === void 0 ? void 0 : _this_config_inviteParams.show) {\n            setTimeout(()=>{\n                this.showInviteDialog();\n            }, this.config.inviteParams.delay || 3000);\n        }\n    }\n    createBubble() {\n        var _this_config_bubbleConfig, _this_config_theme;\n        // 创建气泡容器\n        const container = document.createElement(\"div\");\n        container.style.cssText = \"\\n      position: fixed;\\n      \".concat(this.config.placement === \"bottom-left\" ? \"left\" : \"right\", \": \").concat(this.config.marginSide, \"px;\\n      bottom: \").concat(this.config.marginBottom, \"px;\\n      display: flex;\\n      flex-direction: column;\\n      align-items: \").concat(this.config.placement === \"bottom-left\" ? \"flex-start\" : \"flex-end\", \";\\n      gap: 10px;\\n      z-index: 9999;\\n    \");\n        // 创建气泡消息\n        let messageElement = null;\n        if ((_this_config_bubbleConfig = this.config.bubbleConfig) === null || _this_config_bubbleConfig === void 0 ? void 0 : _this_config_bubbleConfig.show) {\n            var _this_config_bubbleConfig1, _this_config_bubbleConfig2, _this_config_bubbleConfig3;\n            messageElement = document.createElement(\"div\");\n            messageElement.style.cssText = \"\\n        background: white;\\n        padding: 12px 16px;\\n        border-radius: 8px;\\n        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\\n        max-width: 220px;\\n        margin-bottom: 8px;\\n        opacity: 0;\\n        transform: translateY(10px);\\n        transition: all 0.3s ease;\\n        position: relative;\\n      \";\n            // 添加图标和文本\n            const messageContent = document.createElement(\"div\");\n            messageContent.style.cssText = \"\\n        display: flex;\\n        align-items: center;\\n        gap: 8px;\\n      \";\n            const iconSpan = document.createElement(\"span\");\n            iconSpan.textContent = ((_this_config_bubbleConfig1 = this.config.bubbleConfig) === null || _this_config_bubbleConfig1 === void 0 ? void 0 : _this_config_bubbleConfig1.icon) || \"\";\n            iconSpan.style.fontSize = \"20px\";\n            messageContent.appendChild(iconSpan);\n            const textDiv = document.createElement(\"div\");\n            const title = document.createElement(\"div\");\n            title.textContent = ((_this_config_bubbleConfig2 = this.config.bubbleConfig) === null || _this_config_bubbleConfig2 === void 0 ? void 0 : _this_config_bubbleConfig2.title) || \"\";\n            title.style.fontWeight = \"bold\";\n            title.style.marginBottom = \"4px\";\n            textDiv.appendChild(title);\n            const subtitle = document.createElement(\"div\");\n            subtitle.textContent = ((_this_config_bubbleConfig3 = this.config.bubbleConfig) === null || _this_config_bubbleConfig3 === void 0 ? void 0 : _this_config_bubbleConfig3.subtitle) || \"\";\n            subtitle.style.fontSize = \"0.9em\";\n            subtitle.style.opacity = \"0.8\";\n            textDiv.appendChild(subtitle);\n            messageContent.appendChild(textDiv);\n            messageElement.appendChild(messageContent);\n            // 添加倒三角\n            const triangle = document.createElement(\"div\");\n            triangle.style.cssText = \"\\n        position: absolute;\\n        bottom: -6px;\\n        \".concat(this.config.placement === \"bottom-left\" ? \"left: 24px\" : \"right: 24px\", \";\\n        width: 12px;\\n        height: 12px;\\n        background: white;\\n        transform: rotate(45deg);\\n        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\\n      \");\n            // 添加一个白色背景遮罩，遮住三角形上方的阴影\n            const mask = document.createElement(\"div\");\n            mask.style.cssText = \"\\n        position: absolute;\\n        bottom: 0;\\n        \".concat(this.config.placement === \"bottom-left\" ? \"left: 18px\" : \"right: 18px\", \";\\n        width: 24px;\\n        height: 12px;\\n        background: white;\\n      \");\n            messageElement.appendChild(triangle);\n            messageElement.appendChild(mask);\n            container.appendChild(messageElement);\n            // 显示动画\n            setTimeout(()=>{\n                if (messageElement) {\n                    messageElement.style.opacity = \"1\";\n                    messageElement.style.transform = \"translateY(0)\";\n                }\n            }, 500);\n        }\n        // 创建按钮\n        this.bubble = document.createElement(\"button\");\n        this.bubble.style.cssText = \"\\n      background-color: \".concat((_this_config_theme = this.config.theme) === null || _this_config_theme === void 0 ? void 0 : _this_config_theme.backgroundColor, \";\\n      width: 60px;\\n      height: 60px;\\n      border-radius: 30px;\\n      border: none;\\n      cursor: \").concat(this.config.draggable ? \"move\" : \"pointer\", \";\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);\\n      transition: all 0.3s ease;\\n      outline: none;\\n      position: relative;\\n      user-select: none;\\n    \");\n        // 添加气泡图标\n        const bubbleIcon = document.createElement(\"div\");\n        bubbleIcon.innerHTML = '\\n      <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n        <path d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 14.663 3.04094 17.0829 4.73812 18.875L2.72681 21.1705C2.44361 21.4937 2.67314 22 3.10288 22H12Z\" \\n              fill=\"white\"/>\\n      </svg>\\n    ';\n        bubbleIcon.style.cssText = \"\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n    \";\n        this.bubble.appendChild(bubbleIcon);\n        // 添加悬停效果\n        this.bubble.addEventListener(\"mouseenter\", ()=>{\n            this.bubble.style.transform = \"scale(1.1)\";\n        });\n        this.bubble.addEventListener(\"mouseleave\", ()=>{\n            this.bubble.style.transform = \"scale(1)\";\n        });\n        // 先将按钮添加到容器\n        container.appendChild(this.bubble);\n        // 只有在 draggable 为 true 时才添加拖拽功能\n        if (this.config.draggable) {\n            let startX = 0;\n            let startY = 0;\n            let initialX = 0;\n            let initialY = 0;\n            this.bubble.addEventListener(\"mousedown\", (e)=>{\n                if (e.button !== 0) return;\n                this.isDragging = true;\n                startX = e.clientX;\n                startY = e.clientY;\n                initialX = container.offsetLeft;\n                initialY = container.offsetTop;\n                container.style.transition = \"none\";\n            });\n            document.addEventListener(\"mousemove\", (e)=>{\n                if (!this.isDragging) return;\n                e.preventDefault();\n                const dx = e.clientX - startX;\n                const dy = e.clientY - startY;\n                const newX = initialX + dx;\n                const newY = initialY + dy;\n                // 限制在视窗范围内\n                //       const maxX = window.innerWidth - container.offsetWidth;\n                const maxY = window.innerHeight - container.offsetHeight;\n                // 更新水平位置\n                if (newX <= window.innerWidth / 2) {\n                    // 靠左\n                    container.style.left = \"\".concat(Math.max(0, newX), \"px\");\n                    container.style.right = \"auto\";\n                    this.config.placement = \"bottom-left\";\n                } else {\n                    // 靠右\n                    container.style.right = \"\".concat(Math.max(0, window.innerWidth - newX - container.offsetWidth), \"px\");\n                    container.style.left = \"auto\";\n                    this.config.placement = \"bottom-right\";\n                }\n                // 更新垂直位置\n                container.style.bottom = \"\".concat(Math.min(Math.max(0, window.innerHeight - newY - container.offsetHeight), maxY), \"px\");\n            });\n            document.addEventListener(\"mouseup\", ()=>{\n                if (!this.isDragging) return;\n                this.isDragging = false;\n                // 恢复过渡动画\n                container.style.transition = \"all 0.3s ease\";\n                // 保存新位置\n                this.config.marginSide = parseInt(this.config.placement === \"bottom-left\" ? container.style.left : container.style.right) || 20;\n                this.config.marginBottom = parseInt(container.style.bottom || \"20\");\n            });\n        }\n        // 修改点击事件，只在非拖动时触发\n        this.bubble.addEventListener(\"click\", ()=>{\n            if (!this.isDragging) {\n                console.log(\"bubble click\");\n                // 隐藏气泡消息\n                const messageElement = this.bubble.messageElement;\n                if (messageElement instanceof HTMLElement) {\n                    messageElement.style.display = \"none\";\n                }\n                this.showChat();\n            }\n        });\n        // 保存气泡消息引用\n        this.bubble.messageElement = messageElement;\n        // 最后将容器添加到 body\n        document.body.appendChild(container);\n    }\n    getSupportText() {\n        const locale = this.config.locale || \"zh-cn\";\n        const supportTexts = {\n            \"zh-cn\": \"微语技术支持\",\n            \"en\": \"Powered by Weiyuai\",\n            \"ja-JP\": \"Weiyuaiによる技術支援\",\n            \"ko-KR\": \"Weiyuai 기술 지원\"\n        };\n        return supportTexts[locale] || supportTexts[\"zh-cn\"];\n    }\n    createChatWindow() {\n        var _this_config_window, _this_config_window1;\n        this.window = document.createElement(\"div\");\n        const isMobile = window.innerWidth <= 768;\n        const maxWidth = window.innerWidth;\n        const maxHeight = window.innerHeight;\n        // 计算合适的窗口尺寸\n        const width = Math.min(((_this_config_window = this.config.window) === null || _this_config_window === void 0 ? void 0 : _this_config_window.width) || maxWidth * 0.9, maxWidth * 0.9);\n        const height = Math.min(((_this_config_window1 = this.config.window) === null || _this_config_window1 === void 0 ? void 0 : _this_config_window1.height) || maxHeight * 0.9, maxHeight * 0.9);\n        if (isMobile) {\n            var _this_config_animation, _this_config_animation1;\n            this.window.style.cssText = \"\\n        position: fixed;\\n        left: 0;\\n        bottom: 0;\\n        width: 100%;\\n        height: 90vh;\\n        display: none;\\n        z-index: 10000;\\n        border-top-left-radius: 12px;\\n        border-top-right-radius: 12px;\\n        overflow: hidden;\\n        transition: all \".concat((_this_config_animation = this.config.animation) === null || _this_config_animation === void 0 ? void 0 : _this_config_animation.duration, \"ms \").concat((_this_config_animation1 = this.config.animation) === null || _this_config_animation1 === void 0 ? void 0 : _this_config_animation1.type, \";\\n      \");\n        } else {\n            var _this_config_animation2, _this_config_animation3;\n            // 修复桌面端样式 - 使用正确的位置属性\n            this.window.style.cssText = \"\\n        position: fixed;\\n        \".concat(this.config.placement === \"bottom-right\" ? \"right\" : \"left\", \": \").concat(this.config.marginSide, \"px;\\n        bottom: \").concat(this.config.marginBottom, \"px;\\n        width: \").concat(width, \"px;\\n        height: \").concat(height, \"px;\\n        border-radius: 12px;\\n        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15);\\n        display: none;\\n        overflow: hidden;\\n        z-index: 10000;\\n        transition: all \").concat((_this_config_animation2 = this.config.animation) === null || _this_config_animation2 === void 0 ? void 0 : _this_config_animation2.duration, \"ms \").concat((_this_config_animation3 = this.config.animation) === null || _this_config_animation3 === void 0 ? void 0 : _this_config_animation3.type, \";\\n      \");\n        }\n        // 创建聊天界面\n        const iframe = document.createElement(\"iframe\");\n        iframe.style.cssText = \"\\n      width: 100%;\\n      height: \".concat(this.config.showSupport ? \"calc(100% - 30px)\" : \"100%\", \";\\n      border: none;\\n    \");\n        iframe.src = this.generateChatUrl();\n        console.log(\"iframe.src: \", iframe.src);\n        this.window.appendChild(iframe);\n        // 添加技术支持信息\n        if (this.config.showSupport) {\n            const supportDiv = document.createElement(\"div\");\n            supportDiv.style.cssText = \"\\n        height: 20px;\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        color: #666;\\n        font-size: 12px;\\n        line-height: 30px;\\n      \";\n            supportDiv.innerHTML = '\\n        <a href=\"https://ai.bytedesk.com\" \\n           target=\"_blank\" \\n           style=\"\\n             color: #666;\\n             text-decoration: none;\\n             display: flex;\\n             align-items: center;\\n             height: 100%;\\n           \">\\n          '.concat(this.getSupportText(), \"\\n        </a>\\n      \");\n            this.window.appendChild(supportDiv);\n        }\n        document.body.appendChild(this.window);\n    }\n    generateChatUrl() {\n        let preload = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false, tab = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"messages\";\n        console.log(\"this.config: \", this.config, tab);\n        const params = new URLSearchParams();\n        // 添加聊天参数\n        Object.entries(this.config.chatParams || {}).forEach((param)=>{\n            let [key, value] = param;\n            params.append(key, String(value));\n        });\n        // 添加浏览参数\n        Object.entries(this.config.browseParams || {}).forEach((param)=>{\n            let [key, value] = param;\n            params.append(key, String(value));\n        });\n        // 添加基本参数\n        // params.append('tab', tab);\n        // theme添加聊天参数\n        Object.entries(this.config.theme || {}).forEach((param)=>{\n            let [key, value] = param;\n            params.append(key, String(value));\n        });\n        params.append(\"lang\", this.config.locale || \"zh-cn\");\n        if (preload) {\n            params.append(\"preload\", \"1\");\n        }\n        return \"\".concat(this.config.baseUrl, \"?\").concat(params.toString());\n    }\n    setupMessageListener() {\n        window.addEventListener(\"message\", (event)=>{\n            switch(event.data.type){\n                case \"CLOSE_CHAT_WINDOW\":\n                    this.hideChat();\n                    break;\n                case \"MAXIMIZE_WINDOW\":\n                    this.toggleMaximize();\n                    break;\n                case \"MINIMIZE_WINDOW\":\n                    this.minimizeWindow();\n                    break;\n                case \"RECEIVE_MESSAGE\":\n                    console.log(\"RECEIVE_MESSAGE\");\n                    break;\n                case \"INVITE_VISITOR\":\n                    console.log(\"INVITE_VISITOR\");\n                    break;\n                case \"INVITE_VISITOR_ACCEPT\":\n                    console.log(\"INVITE_VISITOR_ACCEPT\");\n                    break;\n                case \"INVITE_VISITOR_REJECT\":\n                    console.log(\"INVITE_VISITOR_REJECT\");\n                    break;\n            }\n        });\n    }\n    preload() {\n        console.log(\"preload\");\n        if (this.config.isPreload) {\n            const preLoadUrl = this.generateChatUrl(true);\n            console.log(\"preLoadUrl: \", preLoadUrl);\n            // 预加载URL\n            const preLoadIframe = document.createElement(\"iframe\");\n            preLoadIframe.src = preLoadUrl;\n            preLoadIframe.style.display = \"none\";\n            document.body.appendChild(preLoadIframe);\n        }\n    }\n    showChat() {\n        var _this_config_onShowChat, _this_config;\n        if (!this.window) {\n            this.createChatWindow();\n        }\n        if (this.window) {\n            const isMobile = window.innerWidth <= 768;\n            this.window.style.display = \"block\";\n            this.setupResizeListener();\n            if (isMobile) {\n                if (this.window) {\n                    this.window.style.transform = \"translateY(100%)\";\n                    requestAnimationFrame(()=>{\n                        if (this.window) {\n                            this.window.style.transform = \"translateY(0)\";\n                        }\n                    });\n                }\n            }\n            this.isVisible = true;\n            if (this.bubble) {\n                this.bubble.style.display = \"none\";\n                const messageElement = this.bubble.messageElement;\n                if (messageElement instanceof HTMLElement) {\n                    messageElement.style.display = \"none\";\n                }\n            }\n        }\n        this.hideInviteDialog();\n        (_this_config_onShowChat = (_this_config = this.config).onShowChat) === null || _this_config_onShowChat === void 0 ? void 0 : _this_config_onShowChat.call(_this_config);\n    }\n    hideChat() {\n        if (this.window) {\n            var _this_config_onHideChat, _this_config;\n            const isMobile = window.innerWidth <= 768;\n            if (isMobile) {\n                var _this_config_animation;\n                this.window.style.transform = \"translateY(100%)\";\n                setTimeout(()=>{\n                    if (this.window) {\n                        this.window.style.display = \"none\";\n                    }\n                }, ((_this_config_animation = this.config.animation) === null || _this_config_animation === void 0 ? void 0 : _this_config_animation.duration) || 300);\n            } else {\n                this.window.style.display = \"none\";\n            }\n            this.isVisible = false;\n            if (this.bubble) {\n                this.bubble.style.display = \"inline-flex\";\n                const messageElement = this.bubble.messageElement;\n                if (messageElement instanceof HTMLElement) {\n                    messageElement.style.display = \"block\";\n                }\n            }\n            (_this_config_onHideChat = (_this_config = this.config).onHideChat) === null || _this_config_onHideChat === void 0 ? void 0 : _this_config_onHideChat.call(_this_config);\n        }\n    }\n    minimizeWindow() {\n        if (this.window) {\n            this.windowState = \"minimized\";\n            this.window.style.display = \"none\";\n            // 显示气泡\n            this.hideChat();\n        }\n    }\n    toggleMaximize() {\n        if (!this.window) return;\n        // 直接大小新的网页\n        window.open(this.generateChatUrl(), \"_blank\");\n    // const isMobile = window.innerWidth <= 768;\n    // if (isMobile) return;\n    // this.windowState = this.windowState === 'maximized' ? 'normal' : 'maximized';\n    // this.setupResizeListener();\n    }\n    setupResizeListener() {\n        const updateWindowSize = ()=>{\n            if (!this.window || !this.isVisible) return;\n            const isMobile = window.innerWidth <= 768;\n            const maxWidth = window.innerWidth;\n            const maxHeight = window.innerHeight;\n            if (isMobile) {\n                Object.assign(this.window.style, {\n                    left: \"0\",\n                    bottom: \"0\",\n                    width: \"100%\",\n                    height: \"90vh\",\n                    borderTopLeftRadius: \"12px\",\n                    borderTopRightRadius: \"12px\",\n                    borderBottomLeftRadius: \"0\",\n                    borderBottomRightRadius: \"0\"\n                });\n            } else {\n                var _this_config_window, _this_config_window1;\n                let width = this.windowState === \"maximized\" ? maxWidth : Math.min(((_this_config_window = this.config.window) === null || _this_config_window === void 0 ? void 0 : _this_config_window.width) || maxWidth * 0.9, maxWidth * 0.9);\n                let height = this.windowState === \"maximized\" ? maxHeight : Math.min(((_this_config_window1 = this.config.window) === null || _this_config_window1 === void 0 ? void 0 : _this_config_window1.height) || maxHeight * 0.9, maxHeight * 0.9);\n                // 确保窗口不会超出屏幕\n                const right = this.config.placement === \"bottom-right\" ? this.config.marginSide : undefined;\n                const left = this.config.placement === \"bottom-left\" ? this.config.marginSide : undefined;\n                Object.assign(this.window.style, {\n                    width: \"\".concat(width, \"px\"),\n                    height: \"\".concat(height, \"px\"),\n                    right: right ? \"\".concat(right, \"px\") : \"auto\",\n                    left: left ? \"\".concat(left, \"px\") : \"auto\",\n                    bottom: \"\".concat(this.config.marginBottom, \"px\"),\n                    borderRadius: this.windowState === \"maximized\" ? \"0\" : \"12px\"\n                });\n            }\n        };\n        // 添加防抖\n        let resizeTimeout;\n        window.addEventListener(\"resize\", ()=>{\n            clearTimeout(resizeTimeout);\n            resizeTimeout = window.setTimeout(updateWindowSize, 100);\n        });\n        // 初始更新\n        updateWindowSize();\n    }\n    destroy() {\n        var _this_bubble;\n        // 找到气泡容器的父元素\n        const bubbleContainer = (_this_bubble = this.bubble) === null || _this_bubble === void 0 ? void 0 : _this_bubble.parentElement;\n        if (bubbleContainer && document.body.contains(bubbleContainer)) {\n            document.body.removeChild(bubbleContainer);\n            this.bubble = null;\n        }\n        // 移除聊天窗口\n        if (this.window && document.body.contains(this.window)) {\n            document.body.removeChild(this.window);\n            this.window = null;\n        }\n        // 清理事件监听器\n        window.removeEventListener(\"resize\", this.setupResizeListener.bind(this));\n        // 清理循环定时器\n        if (this.loopTimer) {\n            window.clearTimeout(this.loopTimer);\n            this.loopTimer = null;\n        }\n        if (this.inviteDialog && document.body.contains(this.inviteDialog)) {\n            document.body.removeChild(this.inviteDialog);\n            this.inviteDialog = null;\n        }\n    }\n    createInviteDialog() {\n        var _this_config_inviteParams, _this_config_theme;\n        if (!((_this_config_inviteParams = this.config.inviteParams) === null || _this_config_inviteParams === void 0 ? void 0 : _this_config_inviteParams.show)) return;\n        this.inviteDialog = document.createElement(\"div\");\n        this.inviteDialog.style.cssText = \"\\n      position: fixed;\\n      top: 50%;\\n      left: 50%;\\n      transform: translate(-50%, -50%);\\n      background: white;\\n      padding: 20px;\\n      border-radius: 8px;\\n      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15);\\n      z-index: 10001;\\n      display: none;\\n      max-width: 300px;\\n      text-align: center;\\n    \";\n        // 添加图标\n        if (this.config.inviteParams.icon) {\n            const icon = document.createElement(\"div\");\n            icon.style.cssText = \"\\n        font-size: 32px;\\n        margin-bottom: 12px;\\n      \";\n            icon.textContent = this.config.inviteParams.icon;\n            this.inviteDialog.appendChild(icon);\n        }\n        // 添加文本\n        const text = document.createElement(\"div\");\n        text.style.cssText = \"\\n      margin-bottom: 16px;\\n      color: #333;\\n    \";\n        text.textContent = this.config.inviteParams.text || \"需要帮助吗？点击开始对话\";\n        this.inviteDialog.appendChild(text);\n        // 添加按钮组\n        const buttons = document.createElement(\"div\");\n        buttons.style.cssText = \"\\n      display: flex;\\n      gap: 10px;\\n      justify-content: center;\\n    \";\n        // 接受按钮\n        const acceptBtn = document.createElement(\"button\");\n        acceptBtn.textContent = \"开始对话\";\n        acceptBtn.style.cssText = \"\\n      padding: 8px 16px;\\n      background: \".concat(((_this_config_theme = this.config.theme) === null || _this_config_theme === void 0 ? void 0 : _this_config_theme.backgroundColor) || \"#0066FF\", \";\\n      color: white;\\n      border: none;\\n      border-radius: 4px;\\n      cursor: pointer;\\n    \");\n        acceptBtn.onclick = ()=>{\n            var _this_config_inviteParams_onAccept, _this_config_inviteParams;\n            this.hideInviteDialog();\n            this.showChat();\n            (_this_config_inviteParams = this.config.inviteParams) === null || _this_config_inviteParams === void 0 ? void 0 : (_this_config_inviteParams_onAccept = _this_config_inviteParams.onAccept) === null || _this_config_inviteParams_onAccept === void 0 ? void 0 : _this_config_inviteParams_onAccept.call(_this_config_inviteParams);\n        };\n        // 拒绝按钮\n        const rejectBtn = document.createElement(\"button\");\n        rejectBtn.textContent = \"稍后再说\";\n        rejectBtn.style.cssText = \"\\n      padding: 8px 16px;\\n      background: #f5f5f5;\\n      color: #666;\\n      border: none;\\n      border-radius: 4px;\\n      cursor: pointer;\\n    \";\n        rejectBtn.onclick = ()=>{\n            var _this_config_inviteParams_onReject, _this_config_inviteParams;\n            this.hideInviteDialog();\n            (_this_config_inviteParams = this.config.inviteParams) === null || _this_config_inviteParams === void 0 ? void 0 : (_this_config_inviteParams_onReject = _this_config_inviteParams.onReject) === null || _this_config_inviteParams_onReject === void 0 ? void 0 : _this_config_inviteParams_onReject.call(_this_config_inviteParams);\n            this.handleInviteLoop();\n        };\n        buttons.appendChild(acceptBtn);\n        buttons.appendChild(rejectBtn);\n        this.inviteDialog.appendChild(buttons);\n        document.body.appendChild(this.inviteDialog);\n    }\n    handleInviteLoop() {\n        const { loop, loopDelay = 3000, loopCount = Infinity } = this.config.inviteParams || {};\n        // 如果不需要循环或已达到最大循环次数，则不再显示\n        if (!loop || this.loopCount >= loopCount - 1) {\n            return;\n        }\n        // 清除之前的定时器\n        if (this.loopTimer) {\n            window.clearTimeout(this.loopTimer);\n        }\n        // 设置新的定时器\n        this.loopTimer = window.setTimeout(()=>{\n            this.loopCount++;\n            this.showInviteDialog();\n        }, loopDelay);\n    }\n    showInviteDialog() {\n        if (this.inviteDialog) {\n            var _this_config_inviteParams_onOpen, _this_config_inviteParams;\n            this.inviteDialog.style.display = \"block\";\n            (_this_config_inviteParams = this.config.inviteParams) === null || _this_config_inviteParams === void 0 ? void 0 : (_this_config_inviteParams_onOpen = _this_config_inviteParams.onOpen) === null || _this_config_inviteParams_onOpen === void 0 ? void 0 : _this_config_inviteParams_onOpen.call(_this_config_inviteParams);\n        }\n    }\n    hideInviteDialog() {\n        if (this.inviteDialog) {\n            var _this_config_inviteParams_onClose, _this_config_inviteParams;\n            this.inviteDialog.style.display = \"none\";\n            (_this_config_inviteParams = this.config.inviteParams) === null || _this_config_inviteParams === void 0 ? void 0 : (_this_config_inviteParams_onClose = _this_config_inviteParams.onClose) === null || _this_config_inviteParams_onClose === void 0 ? void 0 : _this_config_inviteParams_onClose.call(_this_config_inviteParams);\n        }\n    }\n    constructor(config){\n        this.bubble = null;\n        this.window = null;\n        this.inviteDialog = null;\n        this.isVisible = false;\n        this.isDragging = false;\n        this.windowState = \"normal\";\n        this.loopCount = 0;\n        this.loopTimer = null;\n        this.config = {\n            ...this.getDefaultConfig(),\n            ...config\n        };\n    }\n}\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9zcmMvY29yZS9CeXRlZGVza1dlYi50cyIsIm1hcHBpbmdzIjoiOzs7O0FBRWUsTUFBTUE7SUFrQlhDLG1CQUFtQztRQUN6QyxPQUFPO1lBQ0xDLFNBQVM7WUFDVEMsV0FBVztZQUNYQyxTQUFTO1lBQ1RDLFdBQVc7WUFDWEMsY0FBYztZQUNkQyxZQUFZO1lBQ1pDLFdBQVc7WUFDWEMsWUFBWTtnQkFDVkMsTUFBTTtnQkFDTkMsVUFBVTtnQkFDVkMsTUFBTTtnQkFDTkMsTUFBTTtZQUNSO1lBQ0FDLGNBQWM7Z0JBQ1pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05DLE9BQU87Z0JBQ1BDLFVBQVU7WUFDWjtZQUNBQyxhQUFhO1lBQ2JDLFlBQVk7Z0JBQ1ZDLEtBQUs7Z0JBQ0xDLEdBQUc7Z0JBQ0hDLEtBQUs7WUFDUDtZQUNBQyxXQUFXO2dCQUNUQyxTQUFTO2dCQUNUQyxVQUFVO2dCQUNWQyxNQUFNO1lBQ1I7WUFDQUMsT0FBTztnQkFDTEMsTUFBTTtnQkFDTkMsV0FBVztnQkFDWEMsaUJBQWlCO1lBQ25CO1lBQ0FDLFFBQVE7Z0JBQ05DLE9BQU87Z0JBQ1BDLFFBQVE7WUFDVjtZQUNBQyxXQUFXO1lBQ1hDLFFBQVE7UUFDVjtJQUNGO0lBRUFDLE9BQU87WUFjRDtRQWJKLElBQUksQ0FBQ0MsWUFBWTtRQUNqQixJQUFJLENBQUNDLGtCQUFrQjtRQUN2QixJQUFJLENBQUNDLG9CQUFvQjtRQUN6QixJQUFJLENBQUNDLG1CQUFtQjtRQUN4QixNQUFNO1FBQ04sSUFBSSxDQUFDQyxPQUFPO1FBQ1osT0FBTztRQUNQLElBQUksSUFBSSxDQUFDQyxNQUFNLENBQUNuQyxTQUFTLEVBQUU7WUFDekJvQyxXQUFXO2dCQUNULElBQUksQ0FBQ0MsUUFBUTtZQUNmLEdBQUcsSUFBSSxDQUFDRixNQUFNLENBQUNHLGNBQWMsSUFBSTtRQUNuQztRQUNBLFFBQVE7UUFDUixLQUFJLGdDQUFJLENBQUNILE1BQU0sQ0FBQ0ksWUFBWSxjQUF4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WUFDZCxJQUFJLENBQUMxSCxnQkFBZ0I7UUFDdkIsR0FBR3lIO0lBQ0w7SUFFUXpILG1CQUFtQjtRQUN6QixJQUFJLElBQUksQ0FBQytHLFlBQVksRUFBRTtnQkFFckI7WUFEQSxJQUFJLENBQUNBLFlBQVksQ0FBQzFHLEtBQUssQ0FBQ2tELE9BQU8sR0FBRzthQUNsQyxnQ0FBSSxDQUFDNUQsTUFBTSxDQUFDSSxZQUFZLGNBQXhCLDhHQUEwQjZILE1BQU0sY0FBaEM7UUFDRjtJQUNGO0lBRVFwQyxtQkFBbUI7UUFDekIsSUFBSSxJQUFJLENBQUN1QixZQUFZLEVBQUU7Z0JBRXJCO1lBREEsSUFBSSxDQUFDQSxZQUFZLENBQUMxRyxLQUFLLENBQUNrRCxPQUFPLEdBQUc7YUFDbEMsZ0NBQUksQ0FBQzVELE1BQU0sQ0FBQ0ksWUFBWSxjQUF4QiwrR0FBMEI4SCxPQUFPLGNBQWpDO1FBQ0Y7SUFDRjtJQTl1QkFDLFlBQVluSSxNQUFzQixDQUFFO2FBVDVCd0IsU0FBNkI7YUFDN0JuQyxTQUE2QjthQUM3QitILGVBQW1DO2FBQ25DeEIsWUFBcUI7YUFDckIxRCxhQUFzQjthQUN0QjhELGNBQW9EO2FBQ3BEK0IsWUFBb0I7YUFDcEJaLFlBQTJCO1FBR2pDLElBQUksQ0FBQ25ILE1BQU0sR0FBRztZQUNaLEdBQUcsSUFBSSxDQUFDMUMsZ0JBQWdCLEVBQUU7WUFDMUIsR0FBRzBDLE1BQU07UUFDWDtJQUNGO0FBMHVCRjtBQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9zcmMvY29yZS9CeXRlZGVza1dlYi50cz80NDE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQnl0ZWRlc2tDb25maWcgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ5dGVkZXNrV2ViIHtcbiAgcHJpdmF0ZSBjb25maWc6IEJ5dGVkZXNrQ29uZmlnO1xuICBwcml2YXRlIGJ1YmJsZTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB3aW5kb3c6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaW52aXRlRGlhbG9nOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGlzVmlzaWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGlzRHJhZ2dpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSB3aW5kb3dTdGF0ZTogJ21pbmltaXplZCcgfCAnbWF4aW1pemVkJyB8ICdub3JtYWwnID0gJ25vcm1hbCc7XG4gIHByaXZhdGUgbG9vcENvdW50OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGxvb3BUaW1lcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBCeXRlZGVza0NvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgLi4udGhpcy5nZXREZWZhdWx0Q29uZmlnKCksXG4gICAgICAuLi5jb25maWdcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREZWZhdWx0Q29uZmlnKCk6IEJ5dGVkZXNrQ29uZmlnIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNEZWJ1ZzogZmFsc2UsXG4gICAgICBpc1ByZWxvYWQ6IGZhbHNlLFxuICAgICAgYmFzZVVybDogJ2h0dHBzOi8vd3d3LndlaXl1YWkuY24vY2hhdCcsXG4gICAgICBwbGFjZW1lbnQ6ICdib3R0b20tcmlnaHQnLFxuICAgICAgbWFyZ2luQm90dG9tOiAyMCxcbiAgICAgIG1hcmdpblNpZGU6IDIwLFxuICAgICAgYXV0b1BvcHVwOiBmYWxzZSxcbiAgICAgIHRhYnNDb25maWc6IHtcbiAgICAgICAgaG9tZTogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2VzOiB0cnVlLFxuICAgICAgICBoZWxwOiBmYWxzZSxcbiAgICAgICAgbmV3czogZmFsc2VcbiAgICAgIH0sXG4gICAgICBidWJibGVDb25maWc6IHtcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgaWNvbjogJ/CfkYsnLFxuICAgICAgICB0aXRsZTogJ+mcgOimgeW4ruWKqeWQl++8nycsXG4gICAgICAgIHN1YnRpdGxlOiAn54K55Ye75byA5aeL5a+56K+dJ1xuICAgICAgfSxcbiAgICAgIHNob3dTdXBwb3J0OiB0cnVlLFxuICAgICAgY2hhdFBhcmFtczoge1xuICAgICAgICBvcmc6ICdkZl9vcmdfdWlkJyxcbiAgICAgICAgdDogXCIyXCIsXG4gICAgICAgIHNpZDogJ2RmX3J0X3VpZCdcbiAgICAgIH0sXG4gICAgICBhbmltYXRpb246IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgICAgdHlwZTogJ2Vhc2UnXG4gICAgICB9LFxuICAgICAgdGhlbWU6IHtcbiAgICAgICAgbW9kZTogJ3N5c3RlbScsXG4gICAgICAgIHRleHRDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDA2NkZGJyxcbiAgICAgIH0sXG4gICAgICB3aW5kb3c6IHtcbiAgICAgICAgd2lkdGg6IDM4MCxcbiAgICAgICAgaGVpZ2h0OiA2NDAsXG4gICAgICB9LFxuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIGxvY2FsZTogJ3poLWNuJyxcbiAgICB9IGFzIEJ5dGVkZXNrQ29uZmlnO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmNyZWF0ZUJ1YmJsZSgpO1xuICAgIHRoaXMuY3JlYXRlSW52aXRlRGlhbG9nKCk7XG4gICAgdGhpcy5zZXR1cE1lc3NhZ2VMaXN0ZW5lcigpO1xuICAgIHRoaXMuc2V0dXBSZXNpemVMaXN0ZW5lcigpO1xuICAgIC8vIOmihOWKoOi9vVxuICAgIHRoaXMucHJlbG9hZCgpO1xuICAgIC8vIOiHquWKqOW8ueWHulxuICAgIGlmICh0aGlzLmNvbmZpZy5hdXRvUG9wdXApIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNob3dDaGF0KCk7XG4gICAgICB9LCB0aGlzLmNvbmZpZy5hdXRvUG9wdXBEZWxheSB8fCAxMDAwKTtcbiAgICB9XG4gICAgLy8g5pi+56S66YKA6K+35qGGXG4gICAgaWYgKHRoaXMuY29uZmlnLmludml0ZVBhcmFtcz8uc2hvdykge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvd0ludml0ZURpYWxvZygpO1xuICAgICAgfSwgdGhpcy5jb25maWcuaW52aXRlUGFyYW1zLmRlbGF5IHx8IDMwMDApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQnViYmxlKCkge1xuICAgIC8vIOWIm+W7uuawlOazoeWuueWZqFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgJHt0aGlzLmNvbmZpZy5wbGFjZW1lbnQgPT09ICdib3R0b20tbGVmdCcgPyAnbGVmdCcgOiAncmlnaHQnfTogJHt0aGlzLmNvbmZpZy5tYXJnaW5TaWRlfXB4O1xuICAgICAgYm90dG9tOiAke3RoaXMuY29uZmlnLm1hcmdpbkJvdHRvbX1weDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgYWxpZ24taXRlbXM6ICR7dGhpcy5jb25maWcucGxhY2VtZW50ID09PSAnYm90dG9tLWxlZnQnID8gJ2ZsZXgtc3RhcnQnIDogJ2ZsZXgtZW5kJ307XG4gICAgICBnYXA6IDEwcHg7XG4gICAgICB6LWluZGV4OiA5OTk5O1xuICAgIGA7XG5cbiAgICAvLyDliJvlu7rmsJTms6Hmtojmga9cbiAgICBsZXQgbWVzc2FnZUVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKHRoaXMuY29uZmlnLmJ1YmJsZUNvbmZpZz8uc2hvdykge1xuICAgICAgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1lc3NhZ2VFbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICAgIG1heC13aWR0aDogMjIwcHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwcHgpO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBgO1xuXG4gICAgICAvLyDmt7vliqDlm77moIflkozmlofmnKxcbiAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtZXNzYWdlQ29udGVudC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgIGA7XG5cbiAgICAgIGNvbnN0IGljb25TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgaWNvblNwYW4udGV4dENvbnRlbnQgPSB0aGlzLmNvbmZpZy5idWJibGVDb25maWc/Lmljb24gfHwgJyc7XG4gICAgICBpY29uU3Bhbi5zdHlsZS5mb250U2l6ZSA9ICcyMHB4JztcbiAgICAgIG1lc3NhZ2VDb250ZW50LmFwcGVuZENoaWxkKGljb25TcGFuKTtcblxuICAgICAgY29uc3QgdGV4dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5jb25maWcuYnViYmxlQ29uZmlnPy50aXRsZSB8fCAnJztcbiAgICAgIHRpdGxlLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICB0aXRsZS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNHB4JztcbiAgICAgIHRleHREaXYuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgICBjb25zdCBzdWJ0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc3VidGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLmNvbmZpZy5idWJibGVDb25maWc/LnN1YnRpdGxlIHx8ICcnO1xuICAgICAgc3VidGl0bGUuc3R5bGUuZm9udFNpemUgPSAnMC45ZW0nO1xuICAgICAgc3VidGl0bGUuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xuICAgICAgdGV4dERpdi5hcHBlbmRDaGlsZChzdWJ0aXRsZSk7XG5cbiAgICAgIG1lc3NhZ2VDb250ZW50LmFwcGVuZENoaWxkKHRleHREaXYpO1xuICAgICAgbWVzc2FnZUVsZW1lbnQuYXBwZW5kQ2hpbGQobWVzc2FnZUNvbnRlbnQpO1xuXG4gICAgICAvLyDmt7vliqDlgJLkuInop5JcbiAgICAgIGNvbnN0IHRyaWFuZ2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0cmlhbmdsZS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGJvdHRvbTogLTZweDtcbiAgICAgICAgJHt0aGlzLmNvbmZpZy5wbGFjZW1lbnQgPT09ICdib3R0b20tbGVmdCcgPyAnbGVmdDogMjRweCcgOiAncmlnaHQ6IDI0cHgnfTtcbiAgICAgICAgd2lkdGg6IDEycHg7XG4gICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcbiAgICAgICAgYm94LXNoYWRvdzogMnB4IDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgYDtcblxuICAgICAgLy8g5re75Yqg5LiA5Liq55m96Imy6IOM5pmv6YGu572p77yM6YGu5L2P5LiJ6KeS5b2i5LiK5pa555qE6Zi05b2xXG4gICAgICBjb25zdCBtYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtYXNrLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAke3RoaXMuY29uZmlnLnBsYWNlbWVudCA9PT0gJ2JvdHRvbS1sZWZ0JyA/ICdsZWZ0OiAxOHB4JyA6ICdyaWdodDogMThweCd9O1xuICAgICAgICB3aWR0aDogMjRweDtcbiAgICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIGA7XG5cbiAgICAgIG1lc3NhZ2VFbGVtZW50LmFwcGVuZENoaWxkKHRyaWFuZ2xlKTtcbiAgICAgIG1lc3NhZ2VFbGVtZW50LmFwcGVuZENoaWxkKG1hc2spO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1lc3NhZ2VFbGVtZW50KTtcblxuICAgICAgLy8g5pi+56S65Yqo55S7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKG1lc3NhZ2VFbGVtZW50KSB7XG4gICAgICAgICAgbWVzc2FnZUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICBtZXNzYWdlRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgfVxuXG4gICAgLy8g5Yib5bu65oyJ6ZKuXG4gICAgdGhpcy5idWJibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICB0aGlzLmJ1YmJsZS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLmNvbmZpZy50aGVtZT8uYmFja2dyb3VuZENvbG9yfTtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiA2MHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMzBweDtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIGN1cnNvcjogJHt0aGlzLmNvbmZpZy5kcmFnZ2FibGUgPyAnbW92ZScgOiAncG9pbnRlcid9O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDE2cHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgYDtcblxuICAgIC8vIOa3u+WKoOawlOazoeWbvuagh1xuICAgIGNvbnN0IGJ1YmJsZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBidWJibGVJY29uLmlubmVySFRNTCA9IGBcbiAgICAgIDxzdmcgd2lkdGg9XCIyOFwiIGhlaWdodD1cIjI4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8cGF0aCBkPVwiTTEyIDIyQzE3LjUyMjggMjIgMjIgMTcuNTIyOCAyMiAxMkMyMiA2LjQ3NzE1IDE3LjUyMjggMiAxMiAyQzYuNDc3MTUgMiAyIDYuNDc3MTUgMiAxMkMyIDE0LjY2MyAzLjA0MDk0IDE3LjA4MjkgNC43MzgxMiAxOC44NzVMMi43MjY4MSAyMS4xNzA1QzIuNDQzNjEgMjEuNDkzNyAyLjY3MzE0IDIyIDMuMTAyODggMjJIMTJaXCIgXG4gICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiLz5cbiAgICAgIDwvc3ZnPlxuICAgIGA7XG4gICAgYnViYmxlSWNvbi5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBgO1xuXG4gICAgdGhpcy5idWJibGUuYXBwZW5kQ2hpbGQoYnViYmxlSWNvbik7XG5cbiAgICAvLyDmt7vliqDmgqzlgZzmlYjmnpxcbiAgICB0aGlzLmJ1YmJsZSEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgIHRoaXMuYnViYmxlIS5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMS4xKSc7XG4gICAgfSk7XG4gICAgdGhpcy5idWJibGUhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmJ1YmJsZSEuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDEpJztcbiAgICB9KTtcblxuICAgIC8vIOWFiOWwhuaMiemSrua3u+WKoOWIsOWuueWZqFxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmJ1YmJsZSk7XG5cbiAgICAvLyDlj6rmnInlnKggZHJhZ2dhYmxlIOS4uiB0cnVlIOaXtuaJjea3u+WKoOaLluaLveWKn+iDvVxuICAgIGlmICh0aGlzLmNvbmZpZy5kcmFnZ2FibGUpIHtcbiAgICAgIGxldCBzdGFydFggPSAwO1xuICAgICAgbGV0IHN0YXJ0WSA9IDA7XG4gICAgICBsZXQgaW5pdGlhbFggPSAwO1xuICAgICAgbGV0IGluaXRpYWxZID0gMDtcblxuICAgICAgdGhpcy5idWJibGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwKSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgIHN0YXJ0WCA9IGUuY2xpZW50WDtcbiAgICAgICAgc3RhcnRZID0gZS5jbGllbnRZO1xuICAgICAgICBpbml0aWFsWCA9IGNvbnRhaW5lci5vZmZzZXRMZWZ0O1xuICAgICAgICBpbml0aWFsWSA9IGNvbnRhaW5lci5vZmZzZXRUb3A7XG5cbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dpbmcpIHJldHVybjtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGR4ID0gZS5jbGllbnRYIC0gc3RhcnRYO1xuICAgICAgICBjb25zdCBkeSA9IGUuY2xpZW50WSAtIHN0YXJ0WTtcblxuICAgICAgICBjb25zdCBuZXdYID0gaW5pdGlhbFggKyBkeDtcbiAgICAgICAgY29uc3QgbmV3WSA9IGluaXRpYWxZICsgZHk7XG5cbiAgICAgICAgLy8g6ZmQ5Yi25Zyo6KeG56qX6IyD5Zu05YaFXG4gICAgLy8gICAgICAgY29uc3QgbWF4WCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xuICAgICAgICBjb25zdCBtYXhZID0gd2luZG93LmlubmVySGVpZ2h0IC0gY29udGFpbmVyLm9mZnNldEhlaWdodDtcblxuICAgICAgICAvLyDmm7TmlrDmsLTlubPkvY3nva5cbiAgICAgICAgaWYgKG5ld1ggPD0gd2luZG93LmlubmVyV2lkdGggLyAyKSB7XG4gICAgICAgICAgLy8g6Z2g5bemXG4gICAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtNYXRoLm1heCgwLCBuZXdYKX1weGA7XG4gICAgICAgICAgY29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICAgIHRoaXMuY29uZmlnLnBsYWNlbWVudCA9ICdib3R0b20tbGVmdCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g6Z2g5Y+zXG4gICAgICAgICAgY29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gYCR7TWF0aC5tYXgoMCwgd2luZG93LmlubmVyV2lkdGggLSBuZXdYIC0gY29udGFpbmVyLm9mZnNldFdpZHRoKX1weGA7XG4gICAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnYXV0byc7XG4gICAgICAgICAgdGhpcy5jb25maWcucGxhY2VtZW50ID0gJ2JvdHRvbS1yaWdodCc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDmm7TmlrDlnoLnm7TkvY3nva5cbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9IGAke01hdGgubWluKE1hdGgubWF4KDAsIHdpbmRvdy5pbm5lckhlaWdodCAtIG5ld1kgLSBjb250YWluZXIub2Zmc2V0SGVpZ2h0KSwgbWF4WSl9cHhgO1xuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5pc0RyYWdnaW5nKSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIOaBouWkjei/h+a4oeWKqOeUu1xuICAgICAgICBjb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgMC4zcyBlYXNlJztcblxuICAgICAgICAvLyDkv53lrZjmlrDkvY3nva5cbiAgICAgICAgdGhpcy5jb25maWcubWFyZ2luU2lkZSA9IHBhcnNlSW50KFxuICAgICAgICAgIHRoaXMuY29uZmlnLnBsYWNlbWVudCA9PT0gJ2JvdHRvbS1sZWZ0JyBcbiAgICAgICAgICAgID8gY29udGFpbmVyLnN0eWxlLmxlZnQgXG4gICAgICAgICAgICA6IGNvbnRhaW5lci5zdHlsZS5yaWdodFxuICAgICAgICApIHx8IDIwO1xuICAgICAgICB0aGlzLmNvbmZpZy5tYXJnaW5Cb3R0b20gPSBwYXJzZUludChjb250YWluZXIuc3R5bGUuYm90dG9tIHx8ICcyMCcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8g5L+u5pS554K55Ye75LqL5Lu277yM5Y+q5Zyo6Z2e5ouW5Yqo5pe26Kem5Y+RXG4gICAgdGhpcy5idWJibGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZykge1xuICAgICAgICBjb25zb2xlLmxvZygnYnViYmxlIGNsaWNrJylcbiAgICAgICAgLy8g6ZqQ6JeP5rCU5rOh5raI5oGvXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gKHRoaXMuYnViYmxlIGFzIGFueSkubWVzc2FnZUVsZW1lbnQ7XG4gICAgICAgIGlmIChtZXNzYWdlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgbWVzc2FnZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNob3dDaGF0KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDkv53lrZjmsJTms6Hmtojmga/lvJXnlKhcbiAgICAodGhpcy5idWJibGUgYXMgYW55KS5tZXNzYWdlRWxlbWVudCA9IG1lc3NhZ2VFbGVtZW50O1xuXG4gICAgLy8g5pyA5ZCO5bCG5a655Zmo5re75Yqg5YiwIGJvZHlcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIH1cblxuICBwcml2YXRlIGdldFN1cHBvcnRUZXh0KCk6IHN0cmluZyB7XG4gICAgY29uc3QgbG9jYWxlID0gdGhpcy5jb25maWcubG9jYWxlIHx8ICd6aC1jbic7XG4gICAgY29uc3Qgc3VwcG9ydFRleHRzID0ge1xuICAgICAgJ3poLWNuJzogJ+W+ruivreaKgOacr+aUr+aMgScsXG4gICAgICAnZW4nOiAnUG93ZXJlZCBieSBXZWl5dWFpJyxcbiAgICAgICdqYS1KUCc6ICdXZWl5dWFp44Gr44KI44KL5oqA6KGT5pSv5o+0JyxcbiAgICAgICdrby1LUic6ICdXZWl5dWFpIOq4sOyIoCDsp4Dsm5AnXG4gICAgfTtcbiAgICByZXR1cm4gc3VwcG9ydFRleHRzW2xvY2FsZSBhcyBrZXlvZiB0eXBlb2Ygc3VwcG9ydFRleHRzXSB8fCBzdXBwb3J0VGV4dHNbJ3poLWNuJ107XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNoYXRXaW5kb3coKSB7XG4gICAgdGhpcy53aW5kb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2ODtcbiAgICBjb25zdCBtYXhXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBcbiAgICAvLyDorqHnrpflkIjpgILnmoTnqpflj6PlsLrlr7hcbiAgICBjb25zdCB3aWR0aCA9IE1hdGgubWluKHRoaXMuY29uZmlnLndpbmRvdz8ud2lkdGggfHwgbWF4V2lkdGggKiAwLjksIG1heFdpZHRoICogMC45KTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1pbih0aGlzLmNvbmZpZy53aW5kb3c/LmhlaWdodCB8fCBtYXhIZWlnaHQgKiAwLjksIG1heEhlaWdodCAqIDAuOSk7XG4gICAgXG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICB0aGlzLndpbmRvdy5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogOTB2aDtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgei1pbmRleDogMTAwMDA7XG4gICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDEycHg7XG4gICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxMnB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgJHt0aGlzLmNvbmZpZy5hbmltYXRpb24/LmR1cmF0aW9ufW1zICR7dGhpcy5jb25maWcuYW5pbWF0aW9uPy50eXBlfTtcbiAgICAgIGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOS/ruWkjeahjOmdouerr+agt+W8jyAtIOS9v+eUqOato+ehrueahOS9jee9ruWxnuaAp1xuICAgICAgdGhpcy53aW5kb3cuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAke3RoaXMuY29uZmlnLnBsYWNlbWVudCA9PT0gJ2JvdHRvbS1yaWdodCcgPyAncmlnaHQnIDogJ2xlZnQnfTogJHt0aGlzLmNvbmZpZy5tYXJnaW5TaWRlfXB4O1xuICAgICAgICBib3R0b206ICR7dGhpcy5jb25maWcubWFyZ2luQm90dG9tfXB4O1xuICAgICAgICB3aWR0aDogJHt3aWR0aH1weDtcbiAgICAgICAgaGVpZ2h0OiAke2hlaWdodH1weDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMjRweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB6LWluZGV4OiAxMDAwMDtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsICR7dGhpcy5jb25maWcuYW5pbWF0aW9uPy5kdXJhdGlvbn1tcyAke3RoaXMuY29uZmlnLmFuaW1hdGlvbj8udHlwZX07XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIOWIm+W7uuiBiuWkqeeVjOmdolxuICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGlmcmFtZS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6ICR7dGhpcy5jb25maWcuc2hvd1N1cHBvcnQgPyAnY2FsYygxMDAlIC0gMzBweCknIDogJzEwMCUnfTtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICBgO1xuICAgIGlmcmFtZS5zcmMgPSB0aGlzLmdlbmVyYXRlQ2hhdFVybCgpO1xuICAgIGNvbnNvbGUubG9nKCdpZnJhbWUuc3JjOiAnLCBpZnJhbWUuc3JjKVxuICAgIHRoaXMud2luZG93LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgLy8g5re75Yqg5oqA5pyv5pSv5oyB5L+h5oGvXG4gICAgaWYgKHRoaXMuY29uZmlnLnNob3dTdXBwb3J0KSB7XG4gICAgICBjb25zdCBzdXBwb3J0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzdXBwb3J0RGl2LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4O1xuICAgICAgYDtcbiAgICAgIFxuICAgICAgc3VwcG9ydERpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxhIGhyZWY9XCJodHRwczovL2FpLmJ5dGVkZXNrLmNvbVwiIFxuICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIiBcbiAgICAgICAgICAgc3R5bGU9XCJcbiAgICAgICAgICAgICBjb2xvcjogIzY2NjtcbiAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgXCI+XG4gICAgICAgICAgJHt0aGlzLmdldFN1cHBvcnRUZXh0KCl9XG4gICAgICAgIDwvYT5cbiAgICAgIGA7XG4gICAgICBcbiAgICAgIHRoaXMud2luZG93LmFwcGVuZENoaWxkKHN1cHBvcnREaXYpO1xuICAgIH1cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMud2luZG93KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVDaGF0VXJsKHByZWxvYWQ6IGJvb2xlYW4gPSBmYWxzZSwgdGFiOiBzdHJpbmcgPSAnbWVzc2FnZXMnKTogc3RyaW5nIHtcbiAgICBjb25zb2xlLmxvZygndGhpcy5jb25maWc6ICcsIHRoaXMuY29uZmlnLCB0YWIpXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuXG4gICAgLy8g5re75Yqg6IGK5aSp5Y+C5pWwXG4gICAgT2JqZWN0LmVudHJpZXModGhpcy5jb25maWcuY2hhdFBhcmFtcyB8fCB7fSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIHBhcmFtcy5hcHBlbmQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICB9KTtcblxuICAgIC8vIOa3u+WKoOa1j+iniOWPguaVsFxuICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuY29uZmlnLmJyb3dzZVBhcmFtcyB8fCB7fSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBwYXJhbXMuYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8g5re75Yqg5Z+65pys5Y+C5pWwXG4gICAgLy8gcGFyYW1zLmFwcGVuZCgndGFiJywgdGFiKTtcblxuICAgIC8vIHRoZW1l5re75Yqg6IGK5aSp5Y+C5pWwXG4gICAgT2JqZWN0LmVudHJpZXModGhpcy5jb25maWcudGhlbWUgfHwge30pLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgcGFyYW1zLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICAgIH0pO1xuXG4gICAgcGFyYW1zLmFwcGVuZCgnbGFuZycsIHRoaXMuY29uZmlnLmxvY2FsZSB8fCAnemgtY24nKTtcblxuICAgIGlmIChwcmVsb2FkKSB7XG4gICAgICBwYXJhbXMuYXBwZW5kKCdwcmVsb2FkJywgJzEnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7dGhpcy5jb25maWcuYmFzZVVybH0/JHtwYXJhbXMudG9TdHJpbmcoKX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cE1lc3NhZ2VMaXN0ZW5lcigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4ge1xuICAgICAgc3dpdGNoIChldmVudC5kYXRhLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnQ0xPU0VfQ0hBVF9XSU5ET1cnOlxuICAgICAgICAgIHRoaXMuaGlkZUNoYXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTUFYSU1JWkVfV0lORE9XJzpcbiAgICAgICAgICB0aGlzLnRvZ2dsZU1heGltaXplKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01JTklNSVpFX1dJTkRPVyc6XG4gICAgICAgICAgdGhpcy5taW5pbWl6ZVdpbmRvdygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdSRUNFSVZFX01FU1NBR0UnOlxuICAgICAgICAgIGNvbnNvbGUubG9nKCdSRUNFSVZFX01FU1NBR0UnKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdJTlZJVEVfVklTSVRPUic6XG4gICAgICAgICAgY29uc29sZS5sb2coJ0lOVklURV9WSVNJVE9SJylcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnSU5WSVRFX1ZJU0lUT1JfQUNDRVBUJzpcbiAgICAgICAgICBjb25zb2xlLmxvZygnSU5WSVRFX1ZJU0lUT1JfQUNDRVBUJylcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnSU5WSVRFX1ZJU0lUT1JfUkVKRUNUJzpcbiAgICAgICAgICBjb25zb2xlLmxvZygnSU5WSVRFX1ZJU0lUT1JfUkVKRUNUJylcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByZWxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coJ3ByZWxvYWQnKTtcbiAgICBpZiAodGhpcy5jb25maWcuaXNQcmVsb2FkKSB7XG4gICAgICBjb25zdCBwcmVMb2FkVXJsID0gdGhpcy5nZW5lcmF0ZUNoYXRVcmwodHJ1ZSk7XG4gICAgICBjb25zb2xlLmxvZygncHJlTG9hZFVybDogJywgcHJlTG9hZFVybClcbiAgICAgIC8vIOmihOWKoOi9vVVSTFxuICAgICAgY29uc3QgcHJlTG9hZElmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgcHJlTG9hZElmcmFtZS5zcmMgPSBwcmVMb2FkVXJsO1xuICAgICAgcHJlTG9hZElmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcmVMb2FkSWZyYW1lKTtcbiAgICB9XG4gIH1cblxuICBzaG93Q2hhdCgpIHtcbiAgICBpZiAoIXRoaXMud2luZG93KSB7XG4gICAgICB0aGlzLmNyZWF0ZUNoYXRXaW5kb3coKTtcbiAgICB9XG4gICAgaWYgKHRoaXMud2luZG93KSB7XG4gICAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2ODtcbiAgICAgIHRoaXMud2luZG93LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgXG4gICAgICB0aGlzLnNldHVwUmVzaXplTGlzdGVuZXIoKTtcbiAgICAgIFxuICAgICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAgIGlmICh0aGlzLndpbmRvdykge1xuICAgICAgICAgIHRoaXMud2luZG93LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDEwMCUpJztcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMud2luZG93KSB7XG4gICAgICAgICAgICAgIHRoaXMud2luZG93LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICBpZiAodGhpcy5idWJibGUpIHtcbiAgICAgICAgdGhpcy5idWJibGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSAodGhpcy5idWJibGUgYXMgYW55KS5tZXNzYWdlRWxlbWVudDtcbiAgICAgICAgaWYgKG1lc3NhZ2VFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICBtZXNzYWdlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaGlkZUludml0ZURpYWxvZygpO1xuICAgIHRoaXMuY29uZmlnLm9uU2hvd0NoYXQ/LigpO1xuICB9XG5cbiAgaGlkZUNoYXQoKSB7XG4gICAgaWYgKHRoaXMud2luZG93KSB7XG4gICAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2ODtcbiAgICAgIFxuICAgICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAgIHRoaXMud2luZG93LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDEwMCUpJztcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMud2luZG93KSB7XG4gICAgICAgICAgICB0aGlzLndpbmRvdy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5jb25maWcuYW5pbWF0aW9uPy5kdXJhdGlvbiB8fCAzMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53aW5kb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIGlmICh0aGlzLmJ1YmJsZSkge1xuICAgICAgICB0aGlzLmJ1YmJsZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1mbGV4JztcbiAgICAgICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSAodGhpcy5idWJibGUgYXMgYW55KS5tZXNzYWdlRWxlbWVudDtcbiAgICAgICAgaWYgKG1lc3NhZ2VFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICBtZXNzYWdlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5jb25maWcub25IaWRlQ2hhdD8uKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtaW5pbWl6ZVdpbmRvdygpIHtcbiAgICBpZiAodGhpcy53aW5kb3cpIHtcbiAgICAgIHRoaXMud2luZG93U3RhdGUgPSAnbWluaW1pemVkJztcbiAgICAgIHRoaXMud2luZG93LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAvLyDmmL7npLrmsJTms6FcbiAgICAgIHRoaXMuaGlkZUNoYXQoKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdG9nZ2xlTWF4aW1pemUoKSB7XG4gICAgaWYgKCF0aGlzLndpbmRvdykgcmV0dXJuO1xuXG4gICAgLy8g55u05o6l5aSn5bCP5paw55qE572R6aG1XG4gICAgd2luZG93Lm9wZW4odGhpcy5nZW5lcmF0ZUNoYXRVcmwoKSwgJ19ibGFuaycpO1xuICAgIFxuICAgIC8vIGNvbnN0IGlzTW9iaWxlID0gd2luZG93LmlubmVyV2lkdGggPD0gNzY4O1xuICAgIC8vIGlmIChpc01vYmlsZSkgcmV0dXJuO1xuXG4gICAgLy8gdGhpcy53aW5kb3dTdGF0ZSA9IHRoaXMud2luZG93U3RhdGUgPT09ICdtYXhpbWl6ZWQnID8gJ25vcm1hbCcgOiAnbWF4aW1pemVkJztcbiAgICAvLyB0aGlzLnNldHVwUmVzaXplTGlzdGVuZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBSZXNpemVMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB1cGRhdGVXaW5kb3dTaXplID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLndpbmRvdyB8fCAhdGhpcy5pc1Zpc2libGUpIHJldHVybjtcblxuICAgICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3Njg7XG4gICAgICBjb25zdCBtYXhXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLndpbmRvdy5zdHlsZSwge1xuICAgICAgICAgIGxlZnQ6ICcwJyxcbiAgICAgICAgICBib3R0b206ICcwJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGhlaWdodDogJzkwdmgnLFxuICAgICAgICAgIGJvcmRlclRvcExlZnRSYWRpdXM6ICcxMnB4JyxcbiAgICAgICAgICBib3JkZXJUb3BSaWdodFJhZGl1czogJzEycHgnLFxuICAgICAgICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6ICcwJyxcbiAgICAgICAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogJzAnXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy53aW5kb3dTdGF0ZSA9PT0gJ21heGltaXplZCcgPyBtYXhXaWR0aCA6IE1hdGgubWluKHRoaXMuY29uZmlnLndpbmRvdz8ud2lkdGggfHwgbWF4V2lkdGggKiAwLjksIG1heFdpZHRoICogMC45KTtcbiAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMud2luZG93U3RhdGUgPT09ICdtYXhpbWl6ZWQnID8gbWF4SGVpZ2h0IDogTWF0aC5taW4odGhpcy5jb25maWcud2luZG93Py5oZWlnaHQgfHwgbWF4SGVpZ2h0ICogMC45LCBtYXhIZWlnaHQgKiAwLjkpO1xuXG4gICAgICAgIC8vIOehruS/neeql+WPo+S4jeS8mui2heWHuuWxj+W5lVxuICAgICAgICBjb25zdCByaWdodCA9IHRoaXMuY29uZmlnLnBsYWNlbWVudCA9PT0gJ2JvdHRvbS1yaWdodCcgPyB0aGlzLmNvbmZpZy5tYXJnaW5TaWRlIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5jb25maWcucGxhY2VtZW50ID09PSAnYm90dG9tLWxlZnQnID8gdGhpcy5jb25maWcubWFyZ2luU2lkZSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMud2luZG93LnN0eWxlLCB7XG4gICAgICAgICAgd2lkdGg6IGAke3dpZHRofXB4YCxcbiAgICAgICAgICBoZWlnaHQ6IGAke2hlaWdodH1weGAsXG4gICAgICAgICAgcmlnaHQ6IHJpZ2h0ID8gYCR7cmlnaHR9cHhgIDogJ2F1dG8nLFxuICAgICAgICAgIGxlZnQ6IGxlZnQgPyBgJHtsZWZ0fXB4YCA6ICdhdXRvJyxcbiAgICAgICAgICBib3R0b206IGAke3RoaXMuY29uZmlnLm1hcmdpbkJvdHRvbX1weGAsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiB0aGlzLndpbmRvd1N0YXRlID09PSAnbWF4aW1pemVkJyA/ICcwJyA6ICcxMnB4J1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8g5re75Yqg6Ziy5oqWXG4gICAgbGV0IHJlc2l6ZVRpbWVvdXQ6IG51bWJlcjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuICAgICAgcmVzaXplVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHVwZGF0ZVdpbmRvd1NpemUsIDEwMCk7XG4gICAgfSk7XG5cbiAgICAvLyDliJ3lp4vmm7TmlrBcbiAgICB1cGRhdGVXaW5kb3dTaXplKCk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIC8vIOaJvuWIsOawlOazoeWuueWZqOeahOeItuWFg+e0oFxuICAgIGNvbnN0IGJ1YmJsZUNvbnRhaW5lciA9IHRoaXMuYnViYmxlPy5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChidWJibGVDb250YWluZXIgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyhidWJibGVDb250YWluZXIpKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGJ1YmJsZUNvbnRhaW5lcik7XG4gICAgICB0aGlzLmJ1YmJsZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8g56e76Zmk6IGK5aSp56qX5Y+jXG4gICAgaWYgKHRoaXMud2luZG93ICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy53aW5kb3cpKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMud2luZG93KTtcbiAgICAgIHRoaXMud2luZG93ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyDmuIXnkIbkuovku7bnm5HlkKzlmahcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5zZXR1cFJlc2l6ZUxpc3RlbmVyLmJpbmQodGhpcykpO1xuXG4gICAgLy8g5riF55CG5b6q546v5a6a5pe25ZmoXG4gICAgaWYgKHRoaXMubG9vcFRpbWVyKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubG9vcFRpbWVyKTtcbiAgICAgIHRoaXMubG9vcFRpbWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnZpdGVEaWFsb2cgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLmludml0ZURpYWxvZykpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5pbnZpdGVEaWFsb2cpO1xuICAgICAgdGhpcy5pbnZpdGVEaWFsb2cgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlSW52aXRlRGlhbG9nKCkge1xuICAgIGlmICghdGhpcy5jb25maWcuaW52aXRlUGFyYW1zPy5zaG93KSByZXR1cm47XG4gICAgXG4gICAgdGhpcy5pbnZpdGVEaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmludml0ZURpYWxvZy5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgdG9wOiA1MCU7XG4gICAgICBsZWZ0OiA1MCU7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDI0cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgICAgIHotaW5kZXg6IDEwMDAxO1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYDtcbiAgICBcbiAgICAvLyDmt7vliqDlm77moIdcbiAgICBpZiAodGhpcy5jb25maWcuaW52aXRlUGFyYW1zLmljb24pIHtcbiAgICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGljb24uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgZm9udC1zaXplOiAzMnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAgICAgYDtcbiAgICAgIGljb24udGV4dENvbnRlbnQgPSB0aGlzLmNvbmZpZy5pbnZpdGVQYXJhbXMuaWNvbjtcbiAgICAgIHRoaXMuaW52aXRlRGlhbG9nLmFwcGVuZENoaWxkKGljb24pO1xuICAgIH1cbiAgICBcbiAgICAvLyDmt7vliqDmlofmnKxcbiAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGV4dC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgIGA7XG4gICAgdGV4dC50ZXh0Q29udGVudCA9IHRoaXMuY29uZmlnLmludml0ZVBhcmFtcy50ZXh0IHx8ICfpnIDopoHluK7liqnlkJfvvJ/ngrnlh7vlvIDlp4vlr7nor50nO1xuICAgIHRoaXMuaW52aXRlRGlhbG9nLmFwcGVuZENoaWxkKHRleHQpO1xuICAgIFxuICAgIC8vIOa3u+WKoOaMiemSrue7hFxuICAgIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBidXR0b25zLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZ2FwOiAxMHB4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYDtcbiAgICBcbiAgICAvLyDmjqXlj5fmjInpkq5cbiAgICBjb25zdCBhY2NlcHRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBhY2NlcHRCdG4udGV4dENvbnRlbnQgPSAn5byA5aeL5a+56K+dJztcbiAgICBhY2NlcHRCdG4uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgICAgYmFja2dyb3VuZDogJHt0aGlzLmNvbmZpZy50aGVtZT8uYmFja2dyb3VuZENvbG9yIHx8ICcjMDA2NkZGJ307XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYDtcbiAgICBhY2NlcHRCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMuaGlkZUludml0ZURpYWxvZygpO1xuICAgICAgdGhpcy5zaG93Q2hhdCgpO1xuICAgICAgdGhpcy5jb25maWcuaW52aXRlUGFyYW1zPy5vbkFjY2VwdD8uKCk7XG4gICAgfTtcbiAgICBcbiAgICAvLyDmi5Lnu53mjInpkq5cbiAgICBjb25zdCByZWplY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICByZWplY3RCdG4udGV4dENvbnRlbnQgPSAn56iN5ZCO5YaN6K+0JztcbiAgICByZWplY3RCdG4uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgICAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGA7XG4gICAgcmVqZWN0QnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLmhpZGVJbnZpdGVEaWFsb2coKTtcbiAgICAgIHRoaXMuY29uZmlnLmludml0ZVBhcmFtcz8ub25SZWplY3Q/LigpO1xuICAgICAgdGhpcy5oYW5kbGVJbnZpdGVMb29wKCk7XG4gICAgfTtcbiAgICBcbiAgICBidXR0b25zLmFwcGVuZENoaWxkKGFjY2VwdEJ0bik7XG4gICAgYnV0dG9ucy5hcHBlbmRDaGlsZChyZWplY3RCdG4pO1xuICAgIHRoaXMuaW52aXRlRGlhbG9nLmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xuICAgIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5pbnZpdGVEaWFsb2cpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVJbnZpdGVMb29wKCkge1xuICAgIGNvbnN0IHsgbG9vcCwgbG9vcERlbGF5ID0gMzAwMCwgbG9vcENvdW50ID0gSW5maW5pdHkgfSA9IHRoaXMuY29uZmlnLmludml0ZVBhcmFtcyB8fCB7fTtcbiAgICBcbiAgICAvLyDlpoLmnpzkuI3pnIDopoHlvqrnjq/miJblt7Lovr7liLDmnIDlpKflvqrnjq/mrKHmlbDvvIzliJnkuI3lho3mmL7npLpcbiAgICBpZiAoIWxvb3AgfHwgdGhpcy5sb29wQ291bnQgPj0gbG9vcENvdW50IC0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyDmuIXpmaTkuYvliY3nmoTlrprml7blmahcbiAgICBpZiAodGhpcy5sb29wVGltZXIpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5sb29wVGltZXIpO1xuICAgIH1cbiAgICBcbiAgICAvLyDorr7nva7mlrDnmoTlrprml7blmahcbiAgICB0aGlzLmxvb3BUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMubG9vcENvdW50Kys7XG4gICAgICB0aGlzLnNob3dJbnZpdGVEaWFsb2coKTtcbiAgICB9LCBsb29wRGVsYXkpO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG93SW52aXRlRGlhbG9nKCkge1xuICAgIGlmICh0aGlzLmludml0ZURpYWxvZykge1xuICAgICAgdGhpcy5pbnZpdGVEaWFsb2cuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLmNvbmZpZy5pbnZpdGVQYXJhbXM/Lm9uT3Blbj8uKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoaWRlSW52aXRlRGlhbG9nKCkge1xuICAgIGlmICh0aGlzLmludml0ZURpYWxvZykge1xuICAgICAgdGhpcy5pbnZpdGVEaWFsb2cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHRoaXMuY29uZmlnLmludml0ZVBhcmFtcz8ub25DbG9zZT8uKCk7XG4gICAgfVxuICB9XG59ICJdLCJuYW1lcyI6WyJCeXRlZGVza1dlYiIsImdldERlZmF1bHRDb25maWciLCJpc0RlYnVnIiwiaXNQcmVsb2FkIiwiYmFzZVVybCIsInBsYWNlbWVudCIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpblNpZGUiLCJhdXRvUG9wdXAiLCJ0YWJzQ29uZmlnIiwiaG9tZSIsIm1lc3NhZ2VzIiwiaGVscCIsIm5ld3MiLCJidWJibGVDb25maWciLCJzaG93IiwiaWNvbiIsInRpdGxlIiwic3VidGl0bGUiLCJzaG93U3VwcG9ydCIsImNoYXRQYXJhbXMiLCJvcmciLCJ0Iiwic2lkIiwiYW5pbWF0aW9uIiwiZW5hYmxlZCIsImR1cmF0aW9uIiwidHlwZSIsInRoZW1lIiwibW9kZSIsInRleHRDb2xvciIsImJhY2tncm91bmRDb2xvciIsIndpbmRvdyIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhZ2dhYmxlIiwibG9jYWxlIiwiaW5pdCIsImNyZWF0ZUJ1YmJsZSIsImNyZWF0ZUludml0ZURpYWxvZyIsInNldHVwTWVzc2FnZUxpc3RlbmVyIiwic2V0dXBSZXNpemVMaXN0ZW5lciIsInByZWxvYWQiLCJjb25maWciLCJzZXRUaW1lb3V0Iiwic2hvd0NoYXQiLCJhdXRvUG9wdXBEZWxheSIsImludml0ZVBhcmFtcyIsInNob3dJbnZpdGVEaWFsb2ciLCJkZWxheSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiY3NzVGV4dCIsIm1lc3NhZ2VFbGVtZW50IiwibWVzc2FnZUNvbnRlbnQiLCJpY29uU3BhbiIsInRleHRDb250ZW50IiwiZm9udFNpemUiLCJhcHBlbmRDaGlsZCIsInRleHREaXYiLCJmb250V2VpZ2h0Iiwib3BhY2l0eSIsInRyaWFuZ2xlIiwibWFzayIsInRyYW5zZm9ybSIsImJ1YmJsZSIsImJ1YmJsZUljb24iLCJpbm5lckhUTUwiLCJhZGRFdmVudExpc3RlbmVyIiwic3RhcnRYIiwic3RhcnRZIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsImUiLCJidXR0b24iLCJpc0RyYWdnaW5nIiwiY2xpZW50WCIsImNsaWVudFkiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwidHJhbnNpdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZHgiLCJkeSIsIm5ld1giLCJuZXdZIiwibWF4WSIsImlubmVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiaW5uZXJXaWR0aCIsImxlZnQiLCJNYXRoIiwibWF4IiwicmlnaHQiLCJvZmZzZXRXaWR0aCIsImJvdHRvbSIsIm1pbiIsInBhcnNlSW50IiwiY29uc29sZSIsImxvZyIsIkhUTUxFbGVtZW50IiwiZGlzcGxheSIsImJvZHkiLCJnZXRTdXBwb3J0VGV4dCIsInN1cHBvcnRUZXh0cyIsImNyZWF0ZUNoYXRXaW5kb3ciLCJpc01vYmlsZSIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwiaWZyYW1lIiwic3JjIiwiZ2VuZXJhdGVDaGF0VXJsIiwic3VwcG9ydERpdiIsInRhYiIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJhcHBlbmQiLCJTdHJpbmciLCJicm93c2VQYXJhbXMiLCJ0b1N0cmluZyIsImV2ZW50IiwiZGF0YSIsImhpZGVDaGF0IiwidG9nZ2xlTWF4aW1pemUiLCJtaW5pbWl6ZVdpbmRvdyIsInByZUxvYWRVcmwiLCJwcmVMb2FkSWZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaXNWaXNpYmxlIiwiaGlkZUludml0ZURpYWxvZyIsIm9uU2hvd0NoYXQiLCJvbkhpZGVDaGF0Iiwid2luZG93U3RhdGUiLCJvcGVuIiwidXBkYXRlV2luZG93U2l6ZSIsImFzc2lnbiIsImJvcmRlclRvcExlZnRSYWRpdXMiLCJib3JkZXJUb3BSaWdodFJhZGl1cyIsImJvcmRlckJvdHRvbUxlZnRSYWRpdXMiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsInVuZGVmaW5lZCIsImJvcmRlclJhZGl1cyIsInJlc2l6ZVRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJkZXN0cm95IiwiYnViYmxlQ29udGFpbmVyIiwicGFyZW50RWxlbWVudCIsImNvbnRhaW5zIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYmluZCIsImxvb3BUaW1lciIsImludml0ZURpYWxvZyIsInRleHQiLCJidXR0b25zIiwiYWNjZXB0QnRuIiwib25jbGljayIsIm9uQWNjZXB0IiwicmVqZWN0QnRuIiwib25SZWplY3QiLCJoYW5kbGVJbnZpdGVMb29wIiwibG9vcCIsImxvb3BEZWxheSIsImxvb3BDb3VudCIsIkluZmluaXR5Iiwib25PcGVuIiwib25DbG9zZSIsImNvbnN0cnVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../src/core/BytedeskWeb.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/../../src/main.ts":
/*!*************************!*\
  !*** ../../src/main.ts ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_BytedeskWeb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/BytedeskWeb */ \"(app-pages-browser)/../../src/core/BytedeskWeb.ts\");\n/*\n * @Author: jackning 270580156@qq.com\n * @Date: 2024-12-28 12:37:55\n * @LastEditors: jackning 270580156@qq.com\n * @LastEditTime: 2024-12-31 10:44:18\n * @Description: bytedesk.com https://github.com/Bytedesk/bytedesk\n *   Please be aware of the BSL license restrictions before installing Bytedesk IM – \n *  selling, reselling, or hosting Bytedesk IM as a service is a breach of the terms and automatically terminates your rights under the license. \n *  仅支持企业内部员工自用，严禁私自用于销售、二次销售或者部署SaaS方式销售 \n *  Business Source License 1.1: https://github.com/Bytedesk/bytedesk/blob/main/LICENSE \n *  contact: 270580156@qq.com \n *  联系：270580156@qq.com\n * Copyright (c) 2024 by bytedesk.com, All Rights Reserved. \n */ \n/* harmony default export */ __webpack_exports__[\"default\"] = (_core_BytedeskWeb__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9zcmMvbWFpbi50cyIsIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDNEM7QUFFN0MsK0RBQWVBLHlEQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9zcmMvbWFpbi50cz8yYzI3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBAQXV0aG9yOiBqYWNrbmluZyAyNzA1ODAxNTZAcXEuY29tXG4gKiBARGF0ZTogMjAyNC0xMi0yOCAxMjozNzo1NVxuICogQExhc3RFZGl0b3JzOiBqYWNrbmluZyAyNzA1ODAxNTZAcXEuY29tXG4gKiBATGFzdEVkaXRUaW1lOiAyMDI0LTEyLTMxIDEwOjQ0OjE4XG4gKiBARGVzY3JpcHRpb246IGJ5dGVkZXNrLmNvbSBodHRwczovL2dpdGh1Yi5jb20vQnl0ZWRlc2svYnl0ZWRlc2tcbiAqICAgUGxlYXNlIGJlIGF3YXJlIG9mIHRoZSBCU0wgbGljZW5zZSByZXN0cmljdGlvbnMgYmVmb3JlIGluc3RhbGxpbmcgQnl0ZWRlc2sgSU0g4oCTIFxuICogIHNlbGxpbmcsIHJlc2VsbGluZywgb3IgaG9zdGluZyBCeXRlZGVzayBJTSBhcyBhIHNlcnZpY2UgaXMgYSBicmVhY2ggb2YgdGhlIHRlcm1zIGFuZCBhdXRvbWF0aWNhbGx5IHRlcm1pbmF0ZXMgeW91ciByaWdodHMgdW5kZXIgdGhlIGxpY2Vuc2UuIFxuICogIOS7heaUr+aMgeS8geS4muWGhemDqOWRmOW3peiHqueUqO+8jOS4peemgeengeiHqueUqOS6jumUgOWUruOAgeS6jOasoemUgOWUruaIluiAhemDqOe9slNhYVPmlrnlvI/plIDllK4gXG4gKiAgQnVzaW5lc3MgU291cmNlIExpY2Vuc2UgMS4xOiBodHRwczovL2dpdGh1Yi5jb20vQnl0ZWRlc2svYnl0ZWRlc2svYmxvYi9tYWluL0xJQ0VOU0UgXG4gKiAgY29udGFjdDogMjcwNTgwMTU2QHFxLmNvbSBcbiAqICDogZTns7vvvJoyNzA1ODAxNTZAcXEuY29tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQgYnkgYnl0ZWRlc2suY29tLCBBbGwgUmlnaHRzIFJlc2VydmVkLiBcbiAqL1xuaW1wb3J0IEJ5dGVkZXNrV2ViIGZyb20gJy4vY29yZS9CeXRlZGVza1dlYic7XG5leHBvcnQgdHlwZSB7IEJ5dGVkZXNrQ29uZmlnIH0gZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgZGVmYXVsdCBCeXRlZGVza1dlYjtcbiJdLCJuYW1lcyI6WyJCeXRlZGVza1dlYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../src/main.ts\n"));

/***/ })

}]);